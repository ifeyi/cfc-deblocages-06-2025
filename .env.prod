# ============================
# .env.production.example
# ============================
# Production environment template with Docker secrets

# Application
PROJECT_NAME="CFC Déblocages"
ENVIRONMENT=production
DEBUG=False

# Secret Management - Using Docker Secrets
SECRET_KEY_FILE=/run/secrets/app_secret_key

# API
API_V1_STR=/api/v1
ACCESS_TOKEN_EXPIRE_MINUTES=10080  # 7 days

# Database - Using Docker Secrets
DB_HOST=postgres
DB_PORT=5432
DB_NAME=cfc_deblocages
DB_USER=cfc_user
DB_PASSWORD_FILE=/run/secrets/db_password

# Redis - Using Docker Secrets
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD_FILE=/run/secrets/redis_password

# MinIO - Using Docker Secrets
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=admin
MINIO_SECRET_KEY_FILE=/run/secrets/minio_password
MINIO_BUCKET_NAME=cfc-documents
MINIO_SECURE=False

# CORS - Update with your production domains
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:80

# Email - Using Docker Secrets
SMTP_TLS=True
SMTP_PORT=587
SMTP_HOST=mail.creditfoncier.cm
SMTP_USER=cfc_cloud@creditfoncier.cm
SMTP_PASSWORD_FILE=/run/secrets/smtp_password
EMAILS_FROM_EMAIL=cfc_cloud@creditfoncier.cm
EMAILS_FROM_NAME=CFC Déblocages

# i18n
DEFAULT_LANGUAGE=fr
SUPPORTED_LANGUAGES=fr,en

# Security - Update with your production hosts
ALLOWED_HOSTS=localhost,127.0.0.1

# ==================================================
# DOCKER COMPOSE ENVIRONMENT VARIABLES
# ==================================================

# Service Ports
DB_PORT=5432
REDIS_PORT=6379
BACKEND_PORT=8000
FRONTEND_PORT=3000
NGINX_PORT=80
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
FLOWER_PORT=5555

# MinIO Root Credentials (use with secrets in production)
MINIO_ROOT_USER=admin
# MINIO_ROOT_PASSWORD is handled by secrets

# ==================================================
# REQUIRED SECRET FILES FOR PRODUCTION
# ==================================================
# 
# Create these secret files before deploying:
# 
# secrets/app_secret_key.txt      - Application secret key (strong random string)
# secrets/db_password.txt         - PostgreSQL password
# secrets/redis_password.txt      - Redis password  
# secrets/minio_password.txt      - MinIO admin password
# secrets/smtp_password.txt       - SMTP password (Gmail app password)
# 
# Command to create secrets:
# mkdir -p secrets
# openssl rand -base64 32 > secrets/app_secret_key.txt
# openssl rand -base64 16 > secrets/db_password.txt
# openssl rand -base64 16 > secrets/redis_password.txt
# openssl rand -base64 16 > secrets/minio_password.txt
# echo "your-gmail-app-password" > secrets/smtp_password.txt
# chmod 600 secrets/*.txt
# 
# ==================================================